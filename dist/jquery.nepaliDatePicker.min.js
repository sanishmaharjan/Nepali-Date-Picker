var calenderFunctions={};!function($){var calenderData={bsMonths:["बैशाख","जेठ","असार","सावन","भदौ","असोज","कार्तिक","मंसिर","पौष","माघ","फागुन","चैत"],bsDays:["आईत","सोम","मंगल","बुध","बिही","शुक्र","शनि"],nepaliNumbers:["०","१","२","३","४","५","६","७","८","९"],bsMonthUpperDays:[[30,31],[31,32],[31,32],[31,32],[31,32],[30,31],[29,30],[29,30],[29,30],[29,30],[29,30],[30,31]],extractedBsMonthData:[[0,1,1,22,1,3,1,1,1,3,1,22,1,3,1,3,1,22,1,3,1,19,1,3,1,1,3,1,2,2,1,3,1],[1,2,2,2,2,2,2,1,3,1,3,1,2,2,2,3,2,2,2,1,3,1,3,1,2,2,2,2,2,2,2,2,2,2,2,1,3,1,2,2,2,2,2,2,2,2,2,2,2,1,3,1,2,2,2,2,2,1,1,1,2,2,2,2,2,1,3,1,1,2],[0,1,2,1,3,1,3,1,2,2,2,2,2,2,2,2,3,2,2,2,2,2,2,2,2,1,3,1,3,1,2,2,2,2,2,2,2,2,2,1,3,1,3,1,2,2,2,2,2,2,2,2,2,1,3,1,3,1,1,1,1,2,2,2,2,2,1,3,1,1,2],[1,2,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,3,1,2,2,2,1,3,1,3,1,3,1,3,1,3,1,2,2,2,1,3,1,3,1,3,1,3,1,3,1,3,2,2,1,3,1,2,2,2,1,2],[59,1,26,1,28,1,2,1,12],[0,1,2,2,2,2,2,2,2,2,2,2,2,1,3,1,3,1,3,1,2,2,2,2,2,2,2,2,2,2,2,1,3,1,2,2,2,2,2,2,2,2,2,2,2,1,3,1,2,2,2,2,2,2,2,2,2,2,5,1,1,2,2,1,3,1,2,1,2],[0,12,1,3,1,3,1,5,1,11,1,3,1,3,1,18,1,3,1,3,1,18,1,3,1,3,1,27,1,2],[1,2,2,2,2,1,2,2,2,2,2,2,2,3,1,3,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,2,2,2,15,2,4],[0,1,2,2,2,2,1,3,1,3,1,3,1,2,2,2,3,2,2,2,1,3,1,3,1,3,1,2,2,2,2,2,2,2,1,3,1,3,1,3,1,2,2,2,2,2,2,2,2,2,1,3,1,3,1,2,2,2,15,2,4],[1,1,3,1,3,1,14,1,3,1,1,1,3,1,14,1,3,1,3,1,3,1,18,1,3,1,3,1,3,1,14,1,3,15,1,2,1,1],[0,1,1,3,1,3,1,10,1,3,1,3,1,1,1,3,1,3,1,10,1,3,1,3,1,3,1,3,1,14,1,3,1,3,1,3,1,3,1,10,1,20,1,1,1],[1,2,2,1,3,1,3,1,3,1,2,2,2,2,2,3,2,2,2,2,2,1,3,1,3,1,3,1,2,2,2,2,2,2,2,1,3,1,3,1,3,1,3,1,2,2,2,2,2,2,2,1,3,1,3,1,20,3]],minBsYear:1970,maxBsYear:2100,minAdDateEqBsDate:{ad:{year:1913,month:3,date:13},bs:{year:1970,month:1,date:1}}},validationFunctions={validateRequiredParameters:function(requiredParameters){$.each(requiredParameters,function(key,value){if("undefined"==typeof value||null===value)throw new ReferenceError("Missing required parameters: "+Object.keys(requiredParameters).join(", "))})},validateBsYear:function(bsYear){if("number"!=typeof bsYear||null===bsYear)throw new TypeError("Invalid parameter bsYear value");if(bsYear<calenderData.minBsYear||bsYear>calenderData.maxBsYear)throw new RangeError("Parameter bsYear value should be in range of "+calenderData.minBsYear+" to "+calenderData.maxBsYear)},validateBsMonth:function(bsMonth){if("number"!=typeof bsMonth||null===bsMonth)throw new TypeError("Invalid parameter bsMonth value");if(bsMonth<0||bsMonth>11)throw new RangeError("Parameter bsMonth value should be in range of 0 to 11")},validateBsDate:function(bsDate){if("number"!=typeof bsDate||null===bsDate)throw new TypeError("Invalid parameter bsDate value");if(bsDate<1||bsDate>32)throw new RangeError("Parameter bsDate value should be in range of 1 to 32")},validatePositiveNumber:function(numberParameters){$.each(numberParameters,function(key,value){if("number"!=typeof value||null===value||value<0)throw new ReferenceError("Invalid parameters: "+Object.keys(numberParameters).join(", "));if("yearDiff"===key&&value>calenderData.maxBsYear-calenderData.minBsYear+1)throw new RangeError("Parameter yearDiff value should be in range of 0 to "+(calenderData.maxBsYear-calenderData.minBsYear+1))})}};$.extend(calenderFunctions,{getNepaliNumber:function(number){if("undefined"==typeof number)throw new Error("Parameter number is required");if("number"!=typeof number||number<0)throw new Error("Number should be positive integer");var prefixNum=Math.floor(number/10),suffixNum=number%10;return 0!==prefixNum?calenderFunctions.getNepaliNumber(prefixNum)+calenderData.nepaliNumbers[suffixNum]:calenderData.nepaliNumbers[suffixNum]},getNumberByNepaliNumber:function(nepaliNumber){if("undefined"==typeof nepaliNumber)throw new Error("Parameter nepaliNumber is required");if("string"!=typeof nepaliNumber)throw new Error("Parameter nepaliNumber should be in string");for(var number=0,i=0;i<nepaliNumber.length;i++){var numIndex=calenderData.nepaliNumbers.indexOf(nepaliNumber.charAt(i));if(numIndex===-1)throw new Error("Invalid nepali number");number=10*number+numIndex}return number},getBsMonthInfoByBsDate:function(bsYear,bsMonth,bsDate,dateFormatPattern){if(validationFunctions.validateRequiredParameters({bsYear:bsYear,bsMonth:bsMonth,bsDate:bsDate}),validationFunctions.validateBsYear(bsYear),validationFunctions.validateBsMonth(bsMonth),validationFunctions.validateBsDate(bsDate),null===dateFormatPattern)dateFormatPattern="%D, %M %d, %y";else if("string"!=typeof dateFormatPattern)throw new TypeError("Invalid parameter dateFormatPattern value");var daysNumFromMinBsYear=calenderFunctions.getTotalDaysNumFromMinBsYear(bsYear,bsMonth,bsDate),adDate=new Date(calenderData.minAdDateEqBsDate.ad.year,calenderData.minAdDateEqBsDate.ad.month,calenderData.minAdDateEqBsDate.ad.date-1);adDate.setDate(adDate.getDate()+daysNumFromMinBsYear);var bsMonthFirstAdDate=calenderFunctions.getAdDateByBsDate(bsYear,bsMonth,1),bsMonthDays=calenderFunctions.getBsMonthDays(bsYear,bsMonth);bsDate=bsDate>bsMonthDays?bsMonthDays:bsDate;var eqAdDate=calenderFunctions.getAdDateByBsDate(bsYear,bsMonth,bsDate),weekDay=eqAdDate.getDay(),formattedDate=calenderFunctions.bsDateFormat(dateFormatPattern,bsYear,bsMonth,bsDate,weekDay);return{bsYear:bsYear,bsMonth:bsMonth,bsDate:bsDate,weekDay:weekDay,formattedDate:formattedDate,adDate:eqAdDate,bsMonthFirstAdDate:bsMonthFirstAdDate,bsMonthDays:bsMonthDays}},getAdDateByBsDate:function(bsYear,bsMonth,BsDate){var daysNumFromMinBsYear=calenderFunctions.getTotalDaysNumFromMinBsYear(bsYear,bsMonth,BsDate),adDate=new Date(calenderData.minAdDateEqBsDate.ad.year,calenderData.minAdDateEqBsDate.ad.month,calenderData.minAdDateEqBsDate.ad.date-1);return adDate.setDate(adDate.getDate()+daysNumFromMinBsYear),adDate},getTotalDaysNumFromMinBsYear:function(bsYear,bsMonth,bsDate){if(bsYear<calenderData.minBsYear||bsYear>calenderData.maxBsYear)return null;for(var daysNumFromMinBsYear=0,diffYears=bsYear-calenderData.minBsYear,monthIndex=0;monthIndex<12;monthIndex++)daysNumFromMinBsYear+=monthIndex<bsMonth?calenderFunctions.getMonthDaysNumFormMinBsYear(monthIndex,diffYears+1):calenderFunctions.getMonthDaysNumFormMinBsYear(monthIndex,diffYears);return daysNumFromMinBsYear+=bsYear>2085&&bsYear<2088?bsDate-2:2085==bsYear&&bsMonth>4?bsDate-2:bsYear>2088?bsDate-4:2088==bsYear&&bsMonth>4?bsDate-4:bsDate},getMonthDaysNumFormMinBsYear:function(bsMonth,yearDiff){validationFunctions.validateRequiredParameters({bsMonth:bsMonth,yearDiff:yearDiff}),validationFunctions.validateBsMonth(bsMonth),validationFunctions.validatePositiveNumber({yearDiff:yearDiff});var yearCount=0,monthDaysFromMinBsYear=0;if(0===yearDiff)return 0;for(var bsMonthData=calenderData.extractedBsMonthData[bsMonth],i=0;i<bsMonthData.length;i++)if(0!==bsMonthData[i]){var bsMonthUpperDaysIndex=i%2;if(!(yearDiff>yearCount+bsMonthData[i])){monthDaysFromMinBsYear+=calenderData.bsMonthUpperDays[bsMonth][bsMonthUpperDaysIndex]*(yearDiff-yearCount),yearCount=yearDiff-yearCount;break}yearCount+=bsMonthData[i],monthDaysFromMinBsYear+=calenderData.bsMonthUpperDays[bsMonth][bsMonthUpperDaysIndex]*bsMonthData[i]}return monthDaysFromMinBsYear},getBsMonthDays:function(bsYear,bsMonth){validationFunctions.validateRequiredParameters({bsYear:bsYear,bsMonth:bsMonth}),validationFunctions.validateBsYear(bsYear),validationFunctions.validateBsMonth(bsMonth);for(var yearCount=0,totalYears=bsYear+1-calenderData.minBsYear,bsMonthData=calenderData.extractedBsMonthData[bsMonth],i=0;i<bsMonthData.length;i++)if(0!==bsMonthData[i]){var bsMonthUpperDaysIndex=i%2;if(yearCount+=bsMonthData[i],totalYears<=yearCount)return 2085==bsYear&&4==bsMonth||2088==bsYear&&4==bsMonth?calenderData.bsMonthUpperDays[bsMonth][bsMonthUpperDaysIndex]-2:calenderData.bsMonthUpperDays[bsMonth][bsMonthUpperDaysIndex]}return null},getBsDateByAdDate:function(adYear,adMonth,adDate){var bsYear=adYear+57,bsMonth=(adMonth+9)%12,bsDate=1;if(adMonth<3)bsYear-=1;else if(3==adMonth){var bsYearFirstAdDate=calenderFunctions.getAdDateByBsDate(bsYear,0,1);adDate<bsYearFirstAdDate.getDate()&&(bsYear-=1)}var bsMonthFirstAdDate=calenderFunctions.getAdDateByBsDate(bsYear,bsMonth,1);if(adDate>=1&&adDate<bsMonthFirstAdDate.getDate()){bsMonth=0!==bsMonth?bsMonth-1:11;var bsMonthDays=calenderFunctions.getBsMonthDays(bsYear,bsMonth);bsDate=bsMonthDays-(bsMonthFirstAdDate.getDate()-adDate)+1}else bsDate=adDate-bsMonthFirstAdDate.getDate()+1;return{bsYear:bsYear,bsMonth:bsMonth,bsDate:bsDate}},getBsYearByAdDate:function(adYear,adMonth,adDate){var bsDate=calenderFunctions.getBsDateByAdDate(adYear,adMonth,adDate);return bsDate.bsYear},getBsMonthByAdDate:function(adYear,adMonth,adDate){var bsDate=calenderFunctions.getBsDateByAdDate(adYear,adMonth,adDate);return bsDate.bsMonth},bsDateFormat:function(dateFormatPattern,bsYear,bsMonth,bsDate,day){var formattedDate=dateFormatPattern;return formattedDate=formattedDate.replace(/%d/g,calenderFunctions.getNepaliNumber(bsDate)),formattedDate=formattedDate.replace(/%y/g,calenderFunctions.getNepaliNumber(bsYear)),formattedDate=formattedDate.replace(/%m/g,calenderFunctions.getNepaliNumber(bsMonth+1)),formattedDate=formattedDate.replace(/%M/g,calenderData.bsMonths[bsMonth]),formattedDate=formattedDate.replace(/%D/g,calenderData.bsDays[day])},parseFormattedBsDate:function(dateFormat,dateFormattedText){for(var diffTextNum=0,extractedFormattedBsDate={bsYear:null,bsMonth:null,bsDate:null,bsDay:null},i=0;i<dateFormat.length;i++)if("%"==dateFormat.charAt(i)){var valueOf=dateFormat.substring(i,i+2),endChar=dateFormat.charAt(i+2),tempText=dateFormattedText.substring(i+diffTextNum),endIndex=""!==endChar?tempText.indexOf(endChar):tempText.length,value=tempText.substring(0,endIndex);"%y"==valueOf?(extractedFormattedBsDate.bsYear=calenderFunctions.getNumberByNepaliNumber(value),diffTextNum+=value.length-2):"%d"==valueOf?(extractedFormattedBsDate.bsDate=calenderFunctions.getNumberByNepaliNumber(value),diffTextNum+=value.length-2):"%D"==valueOf?(extractedFormattedBsDate.bsDay=calenderData.bsDays.indexOf(value),diffTextNum+=value.length-2):"%m"==valueOf?(extractedFormattedBsDate.bsMonth=calenderFunctions.getNumberByNepaliNumber(value)-1,diffTextNum+=value.length-2):"%M"==valueOf&&(extractedFormattedBsDate.bsMonth=calenderData.bsMonths.indexOf(value),diffTextNum+=value.length-2)}return extractedFormattedBsDate}}),$.fn.nepaliDatePicker=function(options){var datePickerPlugin={options:$.extend({dateFormat:"%D, %M %d, %y",closeOnDateSelect:!0,defaultDate:"",minDate:null,maxDate:null,yearStart:calenderData.minBsYear,yearEnd:calenderData.maxBsYear},options),init:function($element){$element.prop("readonly",!0);var $nepaliDatePicker=$('<div class="nepali-date-picker">');$("body").append($nepaliDatePicker),""!==$element.val()?datePickerPlugin.renderFormattedSpecificDateCalender($nepaliDatePicker,datePickerPlugin.options.dateFormat,$element.val()):datePickerPlugin.renderCurrentMonthCalender($nepaliDatePicker),datePickerPlugin.addEventHandler($element,$nepaliDatePicker),datePickerPlugin.addCommonEventHandler($nepaliDatePicker)},addCommonEventHandler:function(){var $datePickerWrapper=$(".nepali-date-picker");$(document).click(function(event){var $targetElement=$(event.target);$targetElement.is($(".nepali-date-picker"))||($datePickerWrapper.hide(),$datePickerWrapper.find(".drop-down-content").hide())})},addEventHandler:function($element,$nepaliDatePicker){$element.click(function(){if($(".nepali-date-picker").is(":visible"))return void $(".nepali-date-picker").hide();var inputFieldPosition=$(this).offset();return $nepaliDatePicker.css({top:inputFieldPosition.top+$(this).outerHeight(!0),left:inputFieldPosition.left}),$nepaliDatePicker.show(),datePickerPlugin.eventFire($element,$nepaliDatePicker,"show"),!1}),$nepaliDatePicker.on("click",".next-btn",function(event){event.preventDefault();var preCalenderData={bsYear:$nepaliDatePicker.data().bsYear,bsMonth:$nepaliDatePicker.data().bsMonth,bsDate:$nepaliDatePicker.data().bsDate};return datePickerPlugin.renderNextMonthCalender($nepaliDatePicker),datePickerPlugin.triggerChangeEvent($element,$nepaliDatePicker,preCalenderData),$nepaliDatePicker.show(),!1}),$nepaliDatePicker.on("click",".prev-btn",function(event){event.preventDefault();var preCalenderData={bsYear:$nepaliDatePicker.data().bsYear,bsMonth:$nepaliDatePicker.data().bsMonth,bsDate:$nepaliDatePicker.data().bsDate};datePickerPlugin.renderPreviousMonthCalender($nepaliDatePicker);$nepaliDatePicker.data();return datePickerPlugin.triggerChangeEvent($element,$nepaliDatePicker,preCalenderData),$nepaliDatePicker.show(),!1}),$nepaliDatePicker.on("click",".today-btn",function(event){event.preventDefault();var preCalenderData={bsYear:$nepaliDatePicker.data().bsYear,bsMonth:$nepaliDatePicker.data().bsMonth,bsDate:$nepaliDatePicker.data().bsDate};datePickerPlugin.renderCurrentMonthCalender($nepaliDatePicker);$nepaliDatePicker.data();return datePickerPlugin.triggerChangeEvent($element,$nepaliDatePicker,preCalenderData),$nepaliDatePicker.show(),!1}),$nepaliDatePicker.on("click",".current-year-txt, .current-month-txt",function(){if($(this).find(".drop-down-content").is(":visible"))$(this).find(".drop-down-content").hide();else{$nepaliDatePicker.find(".drop-down-content").hide(),$(this).find(".drop-down-content").show();var $optionWrapper=$(this).find(".option-wrapper");$optionWrapper.scrollTop(0);var scrollTopTo=$optionWrapper.find(".active").position().top;$optionWrapper.scrollTop(scrollTopTo)}return!1}),$nepaliDatePicker.on("click",".current-month-date",function(){if(!$(this).hasClass("disable")){var datePickerData=$nepaliDatePicker.data(),bsYear=datePickerData.bsYear,bsMonth=datePickerData.bsMonth,preDate=datePickerData.bsDate,bsDate=$(this).data("date"),weekDay=$(this).data("weekday"),dateText=calenderFunctions.bsDateFormat(datePickerPlugin.options.dateFormat,bsYear,bsMonth,bsDate,weekDay);return $element.val(dateText),datePickerPlugin.setCalenderDate($nepaliDatePicker,bsYear,bsMonth,bsDate),datePickerPlugin.renderMonthCalender($nepaliDatePicker),datePickerPlugin.eventFire($element,$nepaliDatePicker,"select"),preDate!=bsDate&&datePickerPlugin.eventFire($element,$nepaliDatePicker,"dateChange"),datePickerPlugin.options.closeOnDateSelect?$nepaliDatePicker.hide():$nepaliDatePicker.show(),!1}}),$nepaliDatePicker.on("click",".drop-down-content li",function(){var $dropDown=$(this).parents(".drop-down-content");$dropDown.data("value",$(this).data("value")),$dropDown.attr("data-value",$(this).data("value"));var preCalenderData={bsYear:$nepaliDatePicker.data().bsYear,bsMonth:$nepaliDatePicker.data().bsMonth,bsDate:$nepaliDatePicker.data().bsDate},bsMonth=$nepaliDatePicker.find(".month-drop-down").data("value"),bsYear=$nepaliDatePicker.find(".year-drop-down").data("value"),bsDate=preCalenderData.bsDate;datePickerPlugin.setCalenderDate($nepaliDatePicker,bsYear,bsMonth,bsDate),datePickerPlugin.renderMonthCalender($nepaliDatePicker);$nepaliDatePicker.data();return datePickerPlugin.triggerChangeEvent($element,$nepaliDatePicker,preCalenderData),$nepaliDatePicker.show(),!1})},triggerChangeEvent:function($element,$nepaliDatePicker,preCalenderData){var calenderData=$nepaliDatePicker.data();preCalenderData.bsYear!=calenderData.bsYear&&datePickerPlugin.eventFire($element,$nepaliDatePicker,"yearChange"),preCalenderData.bsMonth!=calenderData.bsMonth&&datePickerPlugin.eventFire($element,$nepaliDatePicker,"monthChange"),preCalenderData.bsDate!=calenderData.bsDate&&datePickerPlugin.eventFire($element,$nepaliDatePicker,"dateChange")},eventFire:function($element,$nepaliDatePicker,eventType){switch(eventType){case"generate":$element.trigger({type:eventType,message:"Nepali date picker initialize",datePickerData:$nepaliDatePicker.data(),time:new Date});break;case"show":$element.trigger({type:eventType,message:"Show nepali date picker",datePickerData:$nepaliDatePicker.data(),time:new Date});break;case"close":$element.trigger({type:eventType,message:"close nepali date picker",datePickerData:$nepaliDatePicker.data(),time:new Date});break;case"select":$element.trigger({type:eventType,message:"Select date",datePickerData:$nepaliDatePicker.data(),time:new Date});break;case"dateChange":$element.trigger({type:eventType,message:"Change date",datePickerData:$nepaliDatePicker.data(),time:new Date});break;case"monthChange":$element.trigger({type:eventType,message:"Change month",datePickerData:$nepaliDatePicker.data(),time:new Date});break;case"yearChange":$element.trigger({type:eventType,message:"Change year",datePickerData:$nepaliDatePicker.data(),time:new Date})}},setCalenderDate:function($nepaliDatePicker,bsYear,bsMonth,BsDate){$nepaliDatePicker.data(calenderFunctions.getBsMonthInfoByBsDate(bsYear,bsMonth,BsDate,datePickerPlugin.options.dateFormat))},renderMonthCalender:function($nepaliDatePicker){$nepaliDatePicker.find(".calender-wrapper").remove(),$nepaliDatePicker.append(datePickerPlugin.getCalender($nepaliDatePicker)).hide()},getCalender:function($nepaliDatePicker){var calenderWrapper=$('<div class="calender-wrapper">');calenderWrapper.append(datePickerPlugin.getCalenderController($nepaliDatePicker));var calenderTable=$("<table>");return calenderTable.append(datePickerPlugin.getCalenderHeader()),calenderTable.append(datePickerPlugin.getCalenderBody($nepaliDatePicker)),calenderWrapper.append(calenderTable),calenderWrapper},getCalenderController:function($nepaliDatePicker){var calenderController=$("<div class='calender-controller'>");return calenderController.append('<a href="javascript:void(0);" class="prev-btn icon" title="prev"></a>'),calenderController.append('<a href="javascript:void(0);" class="today-btn icon" title=""></a>'),calenderController.append(datePickerPlugin.getMonthDropOption($nepaliDatePicker)),calenderController.append(datePickerPlugin.getYearDropOption($nepaliDatePicker)),calenderController.append('<a href="javascript:void(0);" class="next-btn icon" title="next"></a>'),calenderController},getMonthDropOption:function($nepaliDatePicker){var datePickerData=$nepaliDatePicker.data(),$monthSpan=$('<div class="current-month-txt">');$monthSpan.text(calenderData.bsMonths[datePickerData.bsMonth]),$monthSpan.append('<i class="icon icon-drop-down">');for(var data=[],i=0;i<12;i++)data.push({label:calenderData.bsMonths[i],value:i});var $monthDropOption=datePickerPlugin.getCustomSelectOption(data,datePickerData.bsMonth).addClass("month-drop-down");return $monthSpan.append($monthDropOption),$monthSpan},getYearDropOption:function($nepaliDatePicker){var datePickerData=$nepaliDatePicker.data(),$yearSpan=$('<div class="current-year-txt">');$yearSpan.text(calenderFunctions.getNepaliNumber(datePickerData.bsYear)),$yearSpan.append('<i class="icon icon-drop-down">');for(var data=[],i=datePickerPlugin.options.yearStart;i<=datePickerPlugin.options.yearEnd;i++)data.push({label:calenderFunctions.getNepaliNumber(i),value:i});var $yearDropOption=datePickerPlugin.getCustomSelectOption(data,datePickerData.bsYear).addClass("year-drop-down");return $yearSpan.append($yearDropOption),$yearSpan},getCustomSelectOption:function(datas,activeValue){var $dropDown=$('<div class="drop-down-content" data-value="'+activeValue+'">'),$dropDownWrapper=$('<div class="option-wrapper">'),$ul=$("<ul>");return $.each(datas,function(index,data){$ul.append('<li data-value="'+data.value+'">'+data.label+"</li>")}),$dropDownWrapper.append($ul),$ul.find('li[data-value="'+activeValue+'"]').addClass("active"),$dropDown.append($dropDownWrapper),$dropDown},getCalenderHeader:function(){for(var calenderHeader=$("<thead>"),tableRow=$("<tr>"),i=0;i<7;i++)tableRow.append("<td>"+calenderData.bsDays[i]+"</td>");return calenderHeader.append(tableRow),calenderHeader},getCalenderBody:function($nepaliDatePicker){var datePickerData=$nepaliDatePicker.data(),weekCoverInMonth=Math.ceil((datePickerData.bsMonthFirstAdDate.getDay()+datePickerData.bsMonthDays)/7),preMonth=datePickerData.bsMonth-1!=-1?datePickerData.bsMonth-1:11,preYear=11==preMonth?datePickerData.bsYear-1:datePickerData.bsYear,preMonthDays=preYear>=calenderData.minBsYear?calenderFunctions.getBsMonthDays(preYear,preMonth):30,minBsDate=null,maxBsDate=null;null!==datePickerPlugin.options.minDate&&(minBsDate=calenderFunctions.parseFormattedBsDate(datePickerPlugin.options.dateFormat,datePickerPlugin.options.minDate)),null!==datePickerPlugin.options.maxDate&&(maxBsDate=calenderFunctions.parseFormattedBsDate(datePickerPlugin.options.dateFormat,datePickerPlugin.options.maxDate));for(var calenderBody=$("<tbody>"),i=0;i<weekCoverInMonth;i++){for(var tableRow=$("<tr>"),k=1;k<=7;k++){var calenderDate=7*i+k-datePickerData.bsMonthFirstAdDate.getDay(),isCurrentMonthDate=!0;if(calenderDate<=0?(calenderDate=preMonthDays+calenderDate,isCurrentMonthDate=!1):calenderDate>datePickerData.bsMonthDays&&(calenderDate-=datePickerData.bsMonthDays,isCurrentMonthDate=!1),isCurrentMonthDate){var $td=$('<td class="current-month-date" data-date="'+calenderDate+'" data-weekDay="'+(k-1)+'">'+calenderFunctions.getNepaliNumber(calenderDate)+"</td>");calenderDate==datePickerData.bsDate&&$td.addClass("active"),datePickerPlugin.disableIfOutOfRange($td,datePickerData,minBsDate,maxBsDate,calenderDate),tableRow.append($td)}else tableRow.append('<td class="other-month-date">'+calenderFunctions.getNepaliNumber(calenderDate)+"</td>")}calenderBody.append(tableRow)}return calenderBody},disableIfOutOfRange:function($td,datePickerData,minBsDate,maxBsDate,calenderDate){return null!==minBsDate&&(datePickerData.bsYear<minBsDate.bsYear?$td.addClass("disable"):datePickerData.bsYear==minBsDate.bsYear&&datePickerData.bsMonth<minBsDate.bsMonth?$td.addClass("disable"):datePickerData.bsYear==minBsDate.bsYear&&datePickerData.bsMonth==minBsDate.bsMonth&&calenderDate<minBsDate.bsDate&&$td.addClass("disable")),null!==maxBsDate&&(datePickerData.bsYear>maxBsDate.bsYear?$td.addClass("disable"):datePickerData.bsYear==maxBsDate.bsYear&&datePickerData.bsMonth>maxBsDate.bsMonth?$td.addClass("disable"):datePickerData.bsYear==maxBsDate.bsYear&&datePickerData.bsMonth==maxBsDate.bsMonth&&calenderDate>maxBsDate.bsDate&&$td.addClass("disable")),$td},renderCurrentMonthCalender:function($nepaliDatePicker){var currentDate=new Date,currentBsDate=calenderFunctions.getBsDateByAdDate(currentDate.getFullYear(),currentDate.getMonth(),currentDate.getDate()),bsYear=currentBsDate.bsYear,bsMonth=currentBsDate.bsMonth,bsDate=currentBsDate.bsDate;datePickerPlugin.setCalenderDate($nepaliDatePicker,bsYear,bsMonth,bsDate),datePickerPlugin.renderMonthCalender($nepaliDatePicker)},renderPreviousMonthCalender:function($nepaliDatePicker){var datePickerData=$nepaliDatePicker.data(),prevMonth=datePickerData.bsMonth-1>=0?datePickerData.bsMonth-1:11,prevYear=11!=prevMonth?datePickerData.bsYear:datePickerData.bsYear-1,prevDate=datePickerData.bsDate;return prevYear<datePickerPlugin.options.yearStart||prevYear>datePickerPlugin.options.yearEnd?null:(datePickerPlugin.setCalenderDate($nepaliDatePicker,prevYear,prevMonth,prevDate),void datePickerPlugin.renderMonthCalender($nepaliDatePicker))},renderNextMonthCalender:function($nepaliDatePicker){var datePickerData=$nepaliDatePicker.data(),nextMonth=datePickerData.bsMonth+1<=11?datePickerData.bsMonth+1:0,nextYear=0!==nextMonth?datePickerData.bsYear:datePickerData.bsYear+1,nextDate=datePickerData.bsDate;return nextYear<datePickerPlugin.options.yearStart||nextYear>datePickerPlugin.options.yearEnd?null:(datePickerPlugin.setCalenderDate($nepaliDatePicker,nextYear,nextMonth,nextDate),void datePickerPlugin.renderMonthCalender($nepaliDatePicker))},renderFormattedSpecificDateCalender:function($nepaliDatePicker,dateFormat,dateFormattedText){var datePickerDate=calenderFunctions.parseFormattedBsDate(dateFormat,dateFormattedText);datePickerPlugin.setCalenderDate($nepaliDatePicker,datePickerDate.bsYear,datePickerDate.bsMonth,datePickerDate.bsDate),datePickerPlugin.renderMonthCalender($nepaliDatePicker)}};return this.each(function(){var $element=$(this);datePickerPlugin.init($element)}),datePickerPlugin.addCommonEventHandler(),this}}(jQuery,calenderFunctions);